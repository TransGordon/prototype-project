<table class="table table-striped table-hover table-condensed">
<% title 'Whitelist' %>

<div id="users">
    <div class="page-header">
        <h1>Whitelist</h1>

        <div class="lead">
            <% if can? :create, User %>
                Authorized and usable list of domain URL
            <% else %>
                See information about your fellow users.
            <% end %>
        </div>
    </div>

    <% if can? :create, User %>
        <p>
            <a href="#" class="btn btn-primary" data-toggle="modal" data-target="#addModal">
                            <i class="icon-plus"></i> Add
            </a>
        </p>
    <% end %> 
    <thead>
        <tr>
            
            <th>Email</th>
            <th>Name</th>
            <th>Threshold Value</th>
            
            <th></th>
        </tr>
        </thead>
        <% @users.each do |user| %>
            <tr>
                <td><%= user.email %></td>
                <td><%= user.name %></td>
                <td><%= user.sign_in_count%></td>
                
                                   
                <td>
                    <% if current_user.admin? %>
                    <% if can? :show, user %>
                       <a href="#" class="btn btn-small btn-info" data-toggle="modal" data-target="#showModal">
                            <i class="icon-eye-open"></i>
                       </a> 
                    <% end %>

                    <% if can? :edit, user %>
                        <a href="#" class="btn btn-small btn-warning" data-toggle="modal" data-target="#editModal">
                            <i class="icon-pencil"></i>
                        </a>
                    <% end %>

                    <% if can? :destroy, user %>
                       <a href="#" class="btn btn-small btn-danger" data-toggle="modal" data-target="#deleteModal">
                            <i class="icon-trash"></i>
                       </a>
                    <% end %>
                    <% end %>
                </td>
            </tr>
        <% end %>
    <div class="modal fade" id="showModal" tabindex="-1" role="dialog" aria-labelledby="showModal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                <h4 class="modal-title" id="myModalLabel">View </h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
            <div class="modal-body">
                
            </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Save changes</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="editModal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                <h4 class="modal-title" id="myModalLabel">Edit</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
            <div class="modal-body">
                <h4>Enter name</h4>
               <form>
                   <input type="text">
               </form>
                <h4>Enter URL</h4>
                <form>
                   <input type="text">
               </form>
                <h4>Enter threshold value</h4>
                <form>
                   <input type="text">
               </form>
            </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Save changes</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="deleteModal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                <h4 class="modal-title" id="myModalLabel">Delete </h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
            <div class="modal-body">
                <h4>Are you sure you want to delete it?</h4>
            </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">NO</button>
                    <button type="button" class="btn btn-primary">YES</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="addModal" tabindex="-1" role="dialog" aria-labelledby="addModal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                <h4 class="modal-title" id="myModalLabel">Add Domain URL</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
            <div class="modal-body">
                <h4>Enter name</h4>
               <form>
                   <input type="text">
               </form>
                <h4>Enter URL</h4>
                <form>
                   <input type="text">
               </form>
                <h4>Enter threshold value</h4>
                <form>
                   <input type="text">
               </form>
            </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Save changes</button>
                </div>
            </div>
        </div>
    </div>
    </table>
